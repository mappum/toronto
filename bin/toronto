#!/usr/bin/env node

require('..')`
(let
  to (require '..')
  repl (require 'repl')
  _eval (func [cmd ctx filename cb]
    (try
      (cb null (to cmd))
      (=> [err]
        (? (=== err.message 'Unterminated expression')
          (cb (new repl.Recoverable err))
          (cb err)))))

  (repl.start {
    prompt: 'toronto> '
    eval: _eval }))
`
